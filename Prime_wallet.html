<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Prime_enumset.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Prime" rel="Chapter" href="Prime.html">
<link title="Prime_array" rel="Chapter" href="Prime_array.html">
<link title="Prime_char" rel="Chapter" href="Prime_char.html">
<link title="Prime_int" rel="Chapter" href="Prime_int.html">
<link title="Prime_int32" rel="Chapter" href="Prime_int32.html">
<link title="Prime_int64" rel="Chapter" href="Prime_int64.html">
<link title="Prime_io" rel="Chapter" href="Prime_io.html">
<link title="Prime_list" rel="Chapter" href="Prime_list.html">
<link title="Prime_map" rel="Chapter" href="Prime_map.html">
<link title="Prime_option" rel="Chapter" href="Prime_option.html">
<link title="Prime_string" rel="Chapter" href="Prime_string.html">
<link title="Unprime" rel="Chapter" href="Unprime.html">
<link title="Unprime_array" rel="Chapter" href="Unprime_array.html">
<link title="Unprime_char" rel="Chapter" href="Unprime_char.html">
<link title="Unprime_list" rel="Chapter" href="Unprime_list.html">
<link title="Unprime_option" rel="Chapter" href="Unprime_option.html">
<link title="Unprime_string" rel="Chapter" href="Unprime_string.html">
<link title="Prime_enummap" rel="Chapter" href="Prime_enummap.html">
<link title="Prime_enumset" rel="Chapter" href="Prime_enumset.html">
<link title="Prime_wallet" rel="Chapter" href="Prime_wallet.html"><link title="Opposite Functions" rel="Section" href="#2_OppositeFunctions">
<title>The OCaml Prime Library : Prime_wallet</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Prime_enumset.html" title="Prime_enumset">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;</div>
<h1>Module <a href="type_Prime_wallet.html">Prime_wallet</a></h1>

<pre><span class="keyword">module</span> Prime_wallet: <code class="code"><span class="keyword">sig</span></code> <a href="Prime_wallet.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
A constructive stack-like container (<em>prime.testing</em>).
<p>

    This container provides functionality similar to arrays or stacks with
    constructive updates.  Random access, including modifications, have
    logarithmic complexity and functions are provided to add or remove
    elements from the front.
<p>

    A wallet is represented as an optional element and a wallet of pairs,
    <pre class="codepre"><code class="code"><span class="keyword">type</span>&nbsp;<span class="keywordsign">'</span>a&nbsp;t&nbsp;=&nbsp;<span class="constructor">Empty</span>&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Even</span>&nbsp;<span class="keyword">of</span>&nbsp;(<span class="keywordsign">'</span>a&nbsp;*&nbsp;<span class="keywordsign">'</span>a)&nbsp;t&nbsp;<span class="keywordsign">|</span>&nbsp;<span class="constructor">Odd</span>&nbsp;<span class="keywordsign">'</span>a&nbsp;*&nbsp;(<span class="keywordsign">'</span>a&nbsp;*&nbsp;<span class="keywordsign">'</span>a)&nbsp;t</code></pre>
    which amounts to a sequence of complete trees of increasing length.<br>
</div>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type">'a</code> t</span> </pre>


<pre><span id="VALempty"><span class="keyword">val</span> empty</span> : <code class="type">'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
The empty wallet.<br>
</div>

<pre><span id="VALis_empty"><span class="keyword">val</span> is_empty</span> : <code class="type">'a <a href="Prime_wallet.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<code class="code">is_empty w</code> is true iff <code class="code">w</code> is the empty wallet.<br>
</div>

<pre><span id="VALsingleton"><span class="keyword">val</span> singleton</span> : <code class="type">'a -> 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">singleton x</code> has length 1 and contains the element <code class="code">x</code>.<br>
</div>

<pre><span id="VALsample"><span class="keyword">val</span> sample</span> : <code class="type">(int -> 'a) -> int -> 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">sample f n</code> has length <code class="code">n</code> and contains <code class="code">f i</code> at <code class="code">i</code>.<br>
</div>

<pre><span id="VALlength"><span class="keyword">val</span> length</span> : <code class="type">'a <a href="Prime_wallet.html#TYPEt">t</a> -> int</code></pre><div class="info ">
<code class="code">length w</code> is the number of elements of <code class="code">w</code>.<br>
</div>

<pre><span id="VALpush"><span class="keyword">val</span> push</span> : <code class="type">'a -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">push x w</code> is <code class="code">w</code> with <code class="code">x</code> added to the front.<br>
</div>

<pre><span id="VALpop"><span class="keyword">val</span> pop</span> : <code class="type">'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a * 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">pop w</code> is <code class="code">x, w'</code> where <code class="code">x</code> is the first element of <code class="code">w</code> and <code class="code">w'</code> contains
    the remaining elements in the original order.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">w</code> is empty.<br>
</div>

<pre><span id="VALget"><span class="keyword">val</span> get</span> : <code class="type">int -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
<code class="code">get i w</code> is element <code class="code">i</code> of <code class="code">w</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">i</code> is out of bounds.<br>
</div>

<pre><span id="VALset"><span class="keyword">val</span> set</span> : <code class="type">int -> 'a -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">set i x w</code> is <code class="code">w</code> with element <code class="code">i</code> replaced by <code class="code">x</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">i</code> is out of bounds.<br>
</div>

<pre><span id="VALmodify"><span class="keyword">val</span> modify</span> : <code class="type">int -> ('a -> 'a) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
Given a <code class="code">w</code> with <code class="code">x</code> at <code class="code">i</code>, <code class="code">modify i f w</code> is <code class="code">w</code> with element <code class="code">i</code>
    replaced by <code class="code">f x</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">i</code> is out of bounds.<br>
</div>

<pre><span id="VALfor_all"><span class="keyword">val</span> for_all</span> : <code class="type">('a -> bool) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<code class="code">for_all f w</code> is true iff <code class="code">f x</code> is true for all <code class="code">x</code> in <code class="code">w</code>.<br>
</div>

<pre><span id="VALfor_all2"><span class="keyword">val</span> for_all2</span> : <code class="type">('a -> 'b -> bool) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'b <a href="Prime_wallet.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<code class="code">for_all2 f wA wB</code> is true iff <code class="code">f xA xB</code> is true for each pair of <code class="code">xA</code> and
    <code class="code">xB</code> taken from the same position of <code class="code">wA</code> and <code class="code">wB</code>, respectively.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">wA</code> and <code class="code">wB</code> have different size.<br>
</div>

<pre><span id="VALmap"><span class="keyword">val</span> map</span> : <code class="type">('a -> 'b) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'b <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">map f w</code> is the image of <code class="code">w</code> under <code class="code">f</code>.<br>
</div>

<pre><span id="VALmapj"><span class="keyword">val</span> mapj</span> : <code class="type">(int -> 'a -> 'b) -> int -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'b <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">mapj f w</code> is the wallet with <code class="code">f i x</code> at <code class="code">i</code> where <code class="code">x</code> is element <code class="code">i</code> of
    <code class="code">w</code>.<br>
</div>

<pre><span id="VALmap2"><span class="keyword">val</span> map2</span> : <code class="type">('a -> 'b -> 'c) -><br>       'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'b <a href="Prime_wallet.html#TYPEt">t</a> -> 'c <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">map2 f wA wB</code> is the wallet of <code class="code">f xA xB</code> at <code class="code">i</code> where <code class="code">xA</code> and <code class="code">xB</code> are
    the element <code class="code">i</code> of <code class="code">wA</code> and <code class="code">wB</code>, respectively.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">wA</code> and <code class="code">wB</code> have different size.<br>
</div>

<pre><span id="VALiter"><span class="keyword">val</span> iter</span> : <code class="type">('a -> unit) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<code class="code">iter f w</code> calls <code class="code">f</code> on each element of <code class="code">w</code> in order.<br>
</div>

<pre><span id="VALiter2"><span class="keyword">val</span> iter2</span> : <code class="type">('a -> 'b -> unit) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'b <a href="Prime_wallet.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<code class="code">iter f wA wB</code> calls <code class="code">f</code> on each pair of successive elements of <code class="code">wA</code> and
    <code class="code">wB</code>.<br>
<b>Raises</b> <code>Invalid_argument</code> if <code class="code">wA</code> and <code class="code">wB</code> have different size.<br>
</div>

<pre><span id="VALfold"><span class="keyword">val</span> fold</span> : <code class="type">('a -> 'b -> 'b) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'b -> 'b</code></pre><div class="info ">
<code class="code">fold f w</code> is the composition of <code class="code">f x</code> for <code class="code">x</code> in <code class="code">w</code>, passed in order of
    occurrence.<br>
</div>

<pre><span id="VALfold2"><span class="keyword">val</span> fold2</span> : <code class="type">('a -> 'b -> 'c -> 'c) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'b <a href="Prime_wallet.html#TYPEt">t</a> -> 'c -> 'c</code></pre><div class="info ">
<code class="code">fold2 f wA wB</code> is the composition of <code class="code">f xA xB</code> for <code class="code">xA</code> and <code class="code">xB</code> pairwise
    taken from <code class="code">wA</code> and <code class="code">wB</code> at the same successive positions.<br>
</div>

<pre><span id="VALsplit"><span class="keyword">val</span> split</span> : <code class="type">'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a <a href="Prime_wallet.html#TYPEt">t</a> * 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">split w</code> splits <code class="code">w</code> into two wallets of comparable where the second is a
    complete tree.  In particular the second tree can be passed to algorithms
    using the opposite functions below, and similarly <a href="Prime_wallet.html#VALcosplit"><code class="code"><span class="constructor">Prime_wallet</span>.cosplit</code></a> returns as
    its second component a complete tree which can be used by the primary
    functions.<br>
</div>

<pre><span id="VALsplit_snd_length"><span class="keyword">val</span> split_snd_length</span> : <code class="type">int -> int</code></pre><div class="info ">
<code class="code">split_snd_length n</code> is the length of <code class="code">snd (split w)</code> for any <code class="code">w</code> of
    length <code class="code">n</code>.<br>
</div>
<br>
<h2 id="2_OppositeFunctions">Opposite Functions</h2>
<p>

    These functions are not needed for normal usage.  They are variants of the
    main functions with internal trees reversed, and can be used to share
    <code class="code">split</code> elements when two wallets are combined into a symmetric
    datastructure.<br>

<pre><span id="VALcopush"><span class="keyword">val</span> copush</span> : <code class="type">'a -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre>
<pre><span id="VALcopop"><span class="keyword">val</span> copop</span> : <code class="type">'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a * 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre>
<pre><span id="VALcoget"><span class="keyword">val</span> coget</span> : <code class="type">int -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a</code></pre>
<pre><span id="VALcoset"><span class="keyword">val</span> coset</span> : <code class="type">int -> 'a -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre>
<pre><span id="VALcomodify"><span class="keyword">val</span> comodify</span> : <code class="type">int -> ('a -> 'a) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre>
<pre><span id="VALcomapj_rev"><span class="keyword">val</span> comapj_rev</span> : <code class="type">(int -> 'a -> 'b) -> int -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'b <a href="Prime_wallet.html#TYPEt">t</a></code></pre>
<pre><span id="VALcoiter_rev"><span class="keyword">val</span> coiter_rev</span> : <code class="type">('a -> unit) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> unit</code></pre>
<pre><span id="VALcofold_rev"><span class="keyword">val</span> cofold_rev</span> : <code class="type">('a -> 'b -> 'b) -> 'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'b -> 'b</code></pre>
<pre><span id="VALcosplit"><span class="keyword">val</span> cosplit</span> : <code class="type">'a <a href="Prime_wallet.html#TYPEt">t</a> -> 'a <a href="Prime_wallet.html#TYPEt">t</a> * 'a <a href="Prime_wallet.html#TYPEt">t</a></code></pre></body></html>