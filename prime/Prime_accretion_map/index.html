<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Prime_accretion_map (prime.Prime_accretion_map)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">prime</a> &#x00BB; Prime_accretion_map</nav><h1>Module <code>Prime_accretion_map</code></h1><p>Accumulation of a monoid over a map (<em>prime.unstable</em>).</p><p>Given a monoid operation, say ∗, these map-like structures maintains the of nested application of the operator over the elements of the map in key-order. E.g. given 5 elements inserted with keys such that the order is <i>a</i>, ..., <i>e</i>, then the accumulated result may be computed as (<i>a</i> ∗ <i>b</i>) ∗ (<i>c</i> ∗ (<i>d</i> ∗ <i>e</i>)) or any other associative combination, yielding the same result. The map is represented as a balanced tree, storing intermediate results, so adding or removing elements is amortized <i>O</i>(log <i>n</i>).</p><p>There are four functors depending on parametricity of the element type and whether or not the generator type is explicit.</p></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="../Prime_accretion_map_intf/index.html">Prime_accretion_map_intf</a></code></span></summary><dl><dt class="spec module-type" id="module-type-Monoid1"><a href="#module-type-Monoid1" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Monoid1/index.html">Monoid1</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>A monoid on a polymorphic type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-Monoid"><a href="#module-type-Monoid" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Monoid/index.html">Monoid</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>A monoid structure.</p></dd></dl><dl><dt class="spec module-type" id="module-type-MonoidG1"><a href="#module-type-MonoidG1" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-MonoidG1/index.html">MonoidG1</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>A monoid on a polymorphic type with an explicit generator type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-MonoidG"><a href="#module-type-MonoidG" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-MonoidG/index.html">MonoidG</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>A monoid with an explicit generator type.</p></dd></dl><dl><dt class="spec module-type" id="module-type-S1"><a href="#module-type-S1" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S1/index.html">S1</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Signature for an accretion map with polymorphic elements.</p></dd></dl><dl><dt class="spec module-type" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Signature for an accretion map with monomorphic elements. See <a href="module-type-S1/index.html"><code>S1</code></a> for documentation.</p></dd></dl></details></div></div></div><dl><dt class="spec module" id="module-Make1"><a href="#module-Make1" class="anchor"></a><code><span class="keyword">module</span> <a href="Make1/index.html">Make1</a> : <span class="keyword">functor</span> (<a href="Make1/index.html#argument-1-Key">Key</a> : Stdlib.Map.OrderedType) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Make1/argument-2-Elt/index.html">Elt</a> : <a href="index.html#module-type-Monoid1">Monoid1</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S1">S1</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Make1/index.html#type-key">key</a> = <a href="Make1/index.html#argument-1-Key">Key</a>.t <span class="keyword">and</span> <span class="keyword">type</span> <span>'a <a href="Make1/index.html#type-elt">elt</a></span> = <span><span class="type-var">'a</span> <a href="Make1/argument-2-Elt/index.html#type-t">Elt.t</a></span> <span class="keyword">and</span> <span class="keyword">type</span> <span>'a <a href="Make1/index.html#type-result">result</a></span> = <span><span class="type-var">'a</span> <a href="Make1/argument-2-Elt/index.html#type-t">Elt.t</a></span></code></dt><dd><p>Accretion map of a polymorphic monoid type.</p></dd></dl><dl><dt class="spec module" id="module-Make"><a href="#module-Make" class="anchor"></a><code><span class="keyword">module</span> <a href="Make/index.html">Make</a> : <span class="keyword">functor</span> (<a href="Make/index.html#argument-1-Key">Key</a> : Stdlib.Map.OrderedType) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Make/argument-2-Elt/index.html">Elt</a> : <a href="index.html#module-type-Monoid">Monoid</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Make/index.html#type-key">key</a> = <a href="Make/index.html#argument-1-Key">Key</a>.t <span class="keyword">and</span> <span class="keyword">type</span> <a href="Make/index.html#type-elt">elt</a> = <a href="Make/argument-2-Elt/index.html#type-t">Elt.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Make/index.html#type-result">result</a> = <a href="Make/argument-2-Elt/index.html#type-t">Elt.t</a></code></dt><dd><p>Accretion map of a monomorphic monoid type.</p></dd></dl><dl><dt class="spec module" id="module-MakeG1"><a href="#module-MakeG1" class="anchor"></a><code><span class="keyword">module</span> <a href="MakeG1/index.html">MakeG1</a> : <span class="keyword">functor</span> (<a href="MakeG1/index.html#argument-1-Key">Key</a> : Stdlib.Map.OrderedType) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="MakeG1/argument-2-Elt/index.html">Elt</a> : <a href="index.html#module-type-MonoidG1">MonoidG1</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S1">S1</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="MakeG1/index.html#type-key">key</a> = <a href="MakeG1/index.html#argument-1-Key">Key</a>.t <span class="keyword">and</span> <span class="keyword">type</span> <span>'a <a href="MakeG1/index.html#type-elt">elt</a></span> = <span><span class="type-var">'a</span> <a href="MakeG1/argument-2-Elt/index.html#type-generator">Elt.generator</a></span> <span class="keyword">and</span> <span class="keyword">type</span> <span>'a <a href="MakeG1/index.html#type-result">result</a></span> = <span><span class="type-var">'a</span> <a href="MakeG1/argument-2-Elt/index.html#type-t">Elt.t</a></span></code></dt><dd><p>Accretion map of a polymorphic monoid type with an explicit generator.</p></dd></dl><dl><dt class="spec module" id="module-MakeG"><a href="#module-MakeG" class="anchor"></a><code><span class="keyword">module</span> <a href="MakeG/index.html">MakeG</a> : <span class="keyword">functor</span> (<a href="MakeG/index.html#argument-1-Key">Key</a> : Stdlib.Map.OrderedType) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="MakeG/argument-2-Elt/index.html">Elt</a> : <a href="index.html#module-type-MonoidG">MonoidG</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="MakeG/index.html#type-key">key</a> = <a href="MakeG/index.html#argument-1-Key">Key</a>.t <span class="keyword">and</span> <span class="keyword">type</span> <a href="MakeG/index.html#type-elt">elt</a> = <a href="MakeG/argument-2-Elt/index.html#type-generator">Elt.generator</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="MakeG/index.html#type-result">result</a> = <a href="MakeG/argument-2-Elt/index.html#type-t">Elt.t</a></code></dt><dd><p>Accretion map of a monomorphic monoid type with an explicit generator.</p></dd></dl></div></body></html>