<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Prime_io (prime.Prime_io)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">prime</a> &#x00BB; Prime_io</nav><h1>Module <code>Prime_io</code></h1><p>Helpers for standard library channels.</p></header><dl><dt class="spec value" id="val-with_file_in"><a href="#val-with_file_in" class="anchor"></a><code><span class="keyword">val</span> with_file_in : <span>(Stdlib.in_channel <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>with_file_in f fp</code> is <code>f ic</code> where <code>ic</code> is a channel opened for input from the file at <code>fp</code>. <code>ic</code> is closed when <code>f</code> returns or raises an exception.</p></dd></dl><dl><dt class="spec value" id="val-with_file_out"><a href="#val-with_file_out" class="anchor"></a><code><span class="keyword">val</span> with_file_out : <span>(Stdlib.out_channel <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>with_file_out f fp</code> calls <code>f oc</code> where <code>oc</code> is a channel opened for output to <code>fp</code>. <code>oc</code> is closed when <code>f</code> returns or raises an exception. In the latter case the file is also removed.</p></dd></dl><dl><dt class="spec value" id="val-with1_file_in"><a href="#val-with1_file_in" class="anchor"></a><code><span class="keyword">val</span> with1_file_in : <span>(Stdlib.in_channel <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p><code>with1_file_in f fp acc</code> is <code>f ic acc</code> where <code>ic</code> is a channel opened for reading from <code>fp</code> during the call. Due to the effect involved, this is not a special case of <a href="index.html#val-with_file_in"><code>with_file_in</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-with1_file_out"><a href="#val-with1_file_out" class="anchor"></a><code><span class="keyword">val</span> with1_file_out : <span>(Stdlib.out_channel <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p><code>with1_file_out f fp acc</code> is <code>f oc acc</code> where <code>oc</code> is a channel opened for writing to <code>fp</code> during the call. Due to the effect involved, this is not a special case of <a href="index.html#val-with_file_out"><code>with_file_out</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-fold_input"><a href="#val-fold_input" class="anchor"></a><code><span class="keyword">val</span> fold_input : <span>?&#8288;close:bool</span> <span>&#45;&gt;</span> <span>(Stdlib.in_channel <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> Stdlib.in_channel <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold_input f ic</code> forms the composition of successive calls to <code>f ic</code> until <code>End_of_file</code> is raised.</p><dl><dt>parameter close</dt><dd><p>If true, close <code>ic</code> before returning, including if an exception occurs while evaluating <code>f ic acc</code> for some <code>acc</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-iter_input"><a href="#val-iter_input" class="anchor"></a><code><span class="keyword">val</span> iter_input : <span>?&#8288;close:bool</span> <span>&#45;&gt;</span> <span>(Stdlib.in_channel <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> Stdlib.in_channel <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter_input f ic</code> calls <code>f ic</code> until <code>End_of_file</code> is raised.</p><dl><dt>parameter close</dt><dd><p>If true, close <code>ic</code> before returning, including if an exception occurs while executing <code>f ic</code>.</p></dd></dl></dd></dl></div></body></html>