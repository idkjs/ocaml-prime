<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (prime.Prime_beacon.S)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">prime</a> &#x00BB; <a href="../index.html">Prime_beacon</a> &#x00BB; S</nav><h1>Module type <code>Prime_beacon.S</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The type of a field to embed in records in order to keep track of access and prevent actively used data from being garbage collected.</p></dd></dl><dl><dt class="spec value" id="val-expire_all"><a href="#val-expire_all" class="anchor"></a><code><span class="keyword">val</span> expire_all : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-dummy"><a href="#val-dummy" class="anchor"></a><code><span class="keyword">val</span> dummy : <a href="index.html#type-t">t</a></code></dt><dd><p>A dummy beacon. This is useful for temporary objects used as lookup keys for weak maps.</p></dd></dl><dl><dt class="spec value" id="val-overhead"><a href="#val-overhead" class="anchor"></a><code><span class="keyword">val</span> overhead : int</code></dt><dd><p>The memory overhead of the beacon in machine words.</p></dd></dl><dl><dt class="spec value" id="val-embed"><a href="#val-embed" class="anchor"></a><code><span class="keyword">val</span> embed : float <span>&#45;&gt;</span> <span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>embed g f</code> passes a suitable beacon of grade <code>g</code> to <code>f</code>, which is expected to construct and return an object embedding the beacon. Conversely, the returned object is made accessible from the beacon, which itself is kept visible to the garbage collector as long as <code>g</code> is greater than the memory pressure times the access period. One access is recorded upon construction.</p></dd></dl><dl><dt class="spec value" id="val-grade"><a href="#val-grade" class="anchor"></a><code><span class="keyword">val</span> grade : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> float</code></dt><dd><p><code>grade x</code> is the current grade of <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-set_grade"><a href="#val-set_grade" class="anchor"></a><code><span class="keyword">val</span> set_grade : float <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_grade g x</code> sets the grade of <code>x</code> to <code>g</code>.</p></dd></dl><dl><dt class="spec value" id="val-charge"><a href="#val-charge" class="anchor"></a><code><span class="keyword">val</span> charge : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>charge b</code> records the fact that <code>b</code> has just been accessed. This is typically called each time an object is acquired from a weak data structure.</p></dd></dl><dl><dt class="spec value" id="val-cache_metric"><a href="#val-cache_metric" class="anchor"></a><code><span class="keyword">val</span> cache_metric : <a href="../../Prime_cache_metric/index.html#type-t">Prime_cache_metric.t</a></code></dt></dl></div></body></html>