OASISFormat: 0.3
Name: ocaml-prime
Version: 0.3.6
Synopsis: Basic additions to the OCaml Standard Library
Authors: Petter A. Urkedal
License: LGPL-3.0 with OCaml linking exception
Plugins: DevFiles (0.3), META (0.3)
BuildTools: ocamlbuild

Library prime
  Path: src
  # OBS: Keep modules sorted due to the documentation.
  Modules:
    Prime,
    Prime_array,
    Prime_char,
    Prime_int,
    Prime_int32,
    Prime_int64,
    Prime_io,
    Prime_list,
    Prime_map,
    Prime_option,
    Prime_string,
    Unprime,
    Unprime_array,
    Unprime_char,
    Unprime_list,
    Unprime_option,
    Unprime_string

Library "prime-unstable"
  Path: src
  FindlibParent: prime
  FindlibName: unstable
  Modules:
    Prime_beacon,
    Prime_cache,
    Prime_cache_metric,
    Prime_enummap,
    Prime_enumset,
    Prime_retraction,
    Prime_wallet
  BuildDepends: prime

# Deprecated name for prime.unstable.
Library "prime-testing"
  Path: src
  FindlibParent: prime
  FindlibName: testing
  BuildDepends: prime.unstable

Library primedoc
  FindlibParent: prime
  Path: doc
  Modules: Primedoc_init, Primedoc_html
  ByteOpt: -I +ocamldoc
  NativeOpt: -I +ocamldoc

Document api
  Title: The OCaml Prime Library
  Type: ocamlbuild (0.3)
  InstallDir: $htmldir/html
  BuildTools+: ocamldoc
  XOCamlbuildPath: src
  XOCamlbuildLibraries: prime, prime.unstable
  DataFiles: COPYING ($docdir), COPYING.LESSER ($docdir)

Executable testsuite
  Install: false
  Path: tests
  MainIs: testsuite.ml
  BuildDepends: prime, oUnit
  DllPath: _build/src
  Build$: flag(tests)

Test "testsuite"
  Type: Custom (0.3)
  Command: $testsuite
  PostCommand: echo
